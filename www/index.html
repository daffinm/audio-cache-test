<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Audio Cache Test</title>
    <meta id="meta-viewport" name="viewport" content="user-scalable=yes, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <style>
        body {
            background-color: black;
            color: white;
            margin: 1rem;
        }
        .audio-container {
            border: solid 1px greenyellow;
            padding: 0 1rem 1rem 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;

            width: fit-content;
            width: -moz-fit-content;
        }
        a:link {
            color: greenyellow;
        }
        a:visited {
            color: greenyellow;
        }
        a:hover {
            color: red;
        }
        a:active {
            color: yellow;
        }
    </style>
    <script type="text/javascript">
        function registerSw() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker
                    .register('sw.js')
                    .then(function () {
                        console.log('ServiceWorker registered!');
                    })
                    .catch(function (err) {
                        console.log('Cannot register service worker:', err);
                    });
            }
        }
    </script>
</head>
<body onload="registerSw();">

    <div id="audio-m4a" class="audio-container">
        <h2>M4A</h2>
        <h3>Pre-cached</h3>
        <audio controls preload="auto" crossorigin="anonymous" src="audio/m4a/pre-cached.m4a"></audio>
        <h3>Manually Cached</h3>
        <audio controls preload="metadata" crossorigin="anonymous" src="audio/m4a/manually-cached.m4a"></audio>
        <h3>Not cached</h3>
        <audio controls preload="none" crossorigin="anonymous" src="audio/m4a/not-cached.m4a"></audio>
    </div>
    <div id="audio-mp3" class="audio-container">
        <h2>MP3</h2>
        <h3>Pre-cached</h3>
        <audio controls preload="auto" crossorigin="anonymous" src="audio/mp3/pre-cached.mp3"></audio>
        <h3>Manually Cached</h3>
        <audio controls preload="metadata" crossorigin="anonymous" src="audio/mp3/manually-cached.mp3"></audio>
        <h3>Not cached</h3>
        <audio controls preload="none" crossorigin="anonymous" src="audio/mp3/not-cached.mp3"></audio>
    </div>
    <p>Media used in demo: Â© 2003 Miaow / Arnaud Laflaquiere - <a href="http://www.miaowmusic.net" target="_blank">MiaowMusic.net</a></p>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="/__/firebase/7.0.0/firebase-app.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
    <!-- Initialize Firebase -->
    <script src="/__/firebase/init.js"></script>

</body>
</html>